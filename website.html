<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <script src="./js/leaflet.js"></script>

    <script src="./js/jquery-3.6.0.min.js"></script>
    <script src="./js/vegas.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vegas/2.4.4/vegas.min.css" />
    <link href="css/tooplate-barista.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/vegas.min.css" rel="stylesheet">

</head>

<body>
<main>
    <section id="page_1" class="hero-section d-flex justify-content-center align-items-center">
        <div class="container">
            <div class="align-items-center">
                <div class="text-white">
                    <h1 style="font-size:400%;"><b>A Study on <br><br><mark style="color:aliceblue; background-color: #61a0ff;line-height:2;">Marco Polo's View of China</mark></b></h1>
                </div>
            </div>
        </div>
        <div class="hero-slides" style="filter: brightness(60%);"></div>
        
        <script>
            $(function() {
              $('.hero-slides').vegas({
                  slides: [
                      { src: './images/banner1.jpg' },
                      { src: './images/banner4.jpg' },
                  ],
                  timer: false,
                  animation: 'kenburns',
              });
            });
        </script>

    </section>

    <section class="barista-section section-padding section-bg1" id="page_2">
        <div class="container" style="height: 700px">
            <div class="align-items-center">
                <p class="text-white" style="text-align:center; font-size:300%;">Introduction</p>
            </div>
        </div>
        </section>
    </main>


    <section class="barista-section section-padding section-bg2" style="height:800px;" id="page_3">
        <div class="container">
            <!--<p class="text-white" style="text-align:center; font-size:300%;font-weight: 1000;">Map</p>-->
            <div style=" float:left; width:50%; margin-top:10px">
                <div id="map" style="height: 650px; max-width: 500px;"></div>
                <p class="text-white" style="line-height:2;font-size:100%;"><em>《九域守令圖》</em></p>
            </div>
            <div class="align-items-center" style=" float:right; height:650px;width:50%; margin-top:10px;">
                <div class="rec-1" style="display:inline-block">
                    <div class="text-white map-select">
                        <div class="my-word">
                            <span class="my-span" style="--i:0.5">W</span>
                            <span class="my-span" style="--i:0.75">h</span>
                            <span class="my-span" style="--i:1">a</span>
                            <span class="my-span"style="--i:1.25">t&nbsp;</span>
                        </div>
                        <div class="my-word">
                            <span class="my-span" style="--i:1.5">W</span>
                            <span  class="my-span"style="--i:1.75">o</span>
                            <span class="my-span"style="--i:2">u</span>
                            <span class="my-span"style="--i:2.25">l</span>
                            <span class="my-span" style="--i:2.5">d&nbsp;</span>
                        </div>
                        <div class="my-word">
                            <span class="my-span" style="--i:2.75">Y </span>
                            <span class="my-span" style="--i:3">o</span>
                            <span  class="my-span"style="--i:3.25">u&nbsp;</span>
                        </div>
                        <div class="my-word">
                            <span class="my-span"style="--i:3.5">l</span>
                            <span class="my-span"style="--i:3.75">i</span>
                            <span class="my-span" style="--i:4">k</span>
                            <span class="my-span" style="--i:4.25">e&nbsp;</span>
                        </div>
                        <div class="my-word">
                            <span class="my-span"style="--i:4.5">t</span>
                            <span class="my-span"style="--i:4.75">o&nbsp;</span>
                        </div>
                        <div class="my-word">
                            <span class="my-span"style="--i:5">l</span>
                            <span class="my-span"style="--i:5.25">e</span>
                            <span class="my-span" style="--i:5.5">a</span>
                            <span class="my-span" style="--i:5.75">r</span>
                            <span class="my-span" style="--i:6">n</span>
                            <span class="my-span" style="--i:6.25">?</span>
                        </div>
                        <p><br></p>
                        <button class="button-map button02 rec-click rec2" role="button" data-react="rec-2">Overview</button>
                        <button class="button-map button01 rec-click rec3" role="button" data-react="rec-3">Religion</button>
                        <button class="button-map button01 rec-click rec4" role="button" data-react="rec-4">Specialty</button>
                        <button class="button-map button01 rec-click rec5" role="button" data-react="rec-5">Industry</button>
                    </div>
                </div>
                <div class="rec-2" style="height:100%;width:100%;display:none">
                    <div id="draw_box" style="margin-left:20px;height:100%;width:100%">
                        <svg id='rectangle' width="100%" height="100%">
                            <rect id='stroke'class="my-rec" rx='50' ry='50'/>
                        </svg>
                    </div>
                    <!--<h1 style="color:#0d294f">Overview</h1>-->
                </div>

                <div class="rec-3" style="display:none">
                    
                </div>

                <div class="rec-4" style="display:none" >
                    
                </div>

                <div class="rec-5" style="display:none">
                    
                </div>

                






                <script>
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        const mySpans = entry.target.querySelectorAll('span.my-span');
                        mySpans.forEach(span => {
                            if (entry.isIntersecting) {
                                span.classList.add('jump');
                            } else {
                                span.classList.remove('jump');
                            }
                        });
                    });
                });

                observer.observe(document.querySelector('.map-select'));

                $(function(){
                    $(".rec-click").click(function(){
                        var target = $(this).data("react");
                    $("."+target).show().siblings("div[class*=rec-]").hide();
                })
                }); 
    
                $(function() {
                // Get all the buttons with class "btn"
                var rectangles = $(".rec");
    
                // Iterate over each button
                rectangles.each(function(index) {
                    // Get the corresponding section with class "section-{index+1}"
                    var section = $(".rec-" + (index+1));
    
                    // Add a click event listener to the button
                    $(this).click(function() {
                    // Hide all sections except the current one
                    $(".rec").not(section).hide();
    
                    // Show the current section
                    section.show();
                    });
                });
                });

                var svg = document.querySelector('#rectangle');
                var my_rect = document.querySelector('.my-rec');

                function resize() {
                var width = svg.clientWidth;
                var height = svg.clientHeight;
                my_rect.setAttribute('width', width);
                my_rect.setAttribute('height', height);
                }

                window.addEventListener('resize', resize);
                resize();

                </script>
            </div>
        </div>
            <script>
                var map = L.map('map',{
                maxBounds:[[17, 100], [42, 123]],
                maxBoundsViscosity: 1,
                minZoom:5,
                }).setView([30.0, 112], 5);
                L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 10,
                minZoom: 3,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                }).addTo(map);



                //add historical map
                var imageUrl = "./images/map05.png",
                //imageBounds = [[10, 80], [60, 130]];
                imageBounds = [[17, 100], [42, 123]];
                L.imageOverlay(imageUrl, imageBounds,{opacity:1}).addTo(map);

                //logo template
                var anyIcon = L.Icon.extend({
                    options: {
                        shadowUrl: './images/shadow2.png',
                        iconSize:     [35, 35], // size of the icon
                        shadowSize:   [40, 40]
                    }
                });

                //import logos of different colors
                var greenIcon = new anyIcon({iconUrl: './images/green.png'}),
                    redIcon = new anyIcon({iconUrl: './images/red.png'}),
                    blueIcon = new anyIcon({iconUrl: './images/blue.png'}),
                    yellowIcon = new anyIcon({iconUrl: './images/yellow.png'});

                //info of each markers
                var markers = [
                    {lat: 25, lng: 118, icon:greenIcon, popupContent: "Quanzhou"},
                    {lat: 40, lng: 116, icon:redIcon,  popupContent: "Dadu"},
                    {lat: 32, lng: 119, icon:blueIcon, popupContent: "Yangzhou"}
                ];
    

                // Loop through the markers array and create a marker for each object
                for (var i = 0; i < markers.length; i++) {
                    var marker = L.marker([markers[i].lat, markers[i].lng],{icon:markers[i].icon, opacity:0.7}).addTo(map);
                    marker.bindPopup(markers[i].popupContent,{
                        closeButton: false,
                        className:'stylePopup'
                    });
                    marker.on('mouseover',function (e) {
                        this.openPopup();
                        this.setOpacity(1)
                    });
                    marker.on('mouseout', function (e) {
                        this.closePopup();
                        this.setOpacity(0.7)
                    });
                    marker.on('click',function(e) {
                        console.log(this._popup._content);
                        $("#"+this._popup._content).click();
                        $('html, body').stop().animate({
                        scrollTop: 2600
                    }, {
                        duration:100,
                        easing: 'linear'
                    });
                    })
                };
            </script>
    </section>


    <section id="connect1" style="height:250px; position: relative;">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 0%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 20%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 40%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 60%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 80%; width: 20%; height: 250px;z-index: 0">
        <span style="position: absolute; top: 0; left: 0; height: 50px; width: 100%; background-color: #2a5287;z-index: 1;"></span>
    </section>

    <section class="section-padding section-bg3" style="height: 715px" id="page_4">
        <div class="container">
            <div style="margin-top:5px;margin-bottom:5px;text-align:center;">
                <img id="scrollToMap" class="arrow" src="./images/arrow.png"style="width:20px; height:20px;margin-top:2px;text-align:center;z-index: 1;" >
            </div>
            <div style="margin-top:10px;margin-bottom:10px;text-align:center; ">
                <div class="section-1" style="display:inline-block;">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style="float:left; width:49%;">
                        <img class="shape" src="./images/quanzhou.jpg">
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style="float:right; width:49%;">
                        <span class="box" >
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
                
        
                <div class="section-2" style="display:none;">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style="float:left; width:49%;">
                        <img class="shape" src="./images/dadu.jpg">
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style="float:right; width:49%;">
                        <span class="box" >
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
        
                <div class="section-3"  style="display:none" >
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
        
                <div class="section-4"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-5"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-6"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-7"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-8"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-9"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-10"  style="display:none" >
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-11"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-12"  style="display:none">
                    <h1 style="text-align:center;"><b>Location</b></h1>
                    <div style=" float:left; width:49%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:2%;"></div>
                    <div style=" float:right; width:49%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    

        <script>
            var mapElement = document.getElementById("page_3");
            var arrowElement = document.getElementById("scrollToMap");
            arrowElement.addEventListener("click", function() {
                mapElement.scrollIntoView({ behavior: "smooth" });
            });
        </script>
        
    </section>

    <section class="align-items-center" style="height: 50px" id="navbar">
        <div style="margin-top:0px">
            <div style="text-align:center; bottom:0px;">
                <span class="productbtn btn1 btn-click" data-action="section-1" id="Quanzhou"></span>
                <span class="productbtn btn2 btn-click" data-action="section-2" id="Dadu"></span>
                <span class="productbtn btn3 btn-click" data-action="section-3" id="Yangzhou"></span>
                <span class="productbtn btn4 btn-click" data-action="section-4" id="XiangYangFu"></span>
                <span class="productbtn btn5 btn-click" data-action="section-5" id="m5"></span>
                <span class="productbtn btn6 btn-click" data-action="section-6" id="m6"></span>
                <span class="productbtn btn7 btn-click" data-action="section-7" id="m7"></span>
                <span class="productbtn btn8 btn-click" data-action="section-8" id="m8"></span>
                <span class="productbtn btn9 btn-click" data-action="section-9" id="m9"></span>
                <span class="productbtn btn10 btn-click" data-action="section-10" id="m10"></span>
                <span class="productbtn btn11 btn-click" data-action="section-11" id="m11"></span>
                <span class="productbtn btn12 btn-click" data-action="section-12" id="m12"></span>
            </div>
            <script>
                $(function(){
                    $(".btn-click").click(function(){
                        var target = $(this).data("action");
                    $("."+target).show().siblings("div[class*=section-]").hide();
                })
                }); 
    
                $(function() {
                // Get all the buttons with class "btn"
                var buttons = $(".btn");
    
                // Iterate over each button
                buttons.each(function(index) {
                    // Get the corresponding section with class "section-{index+1}"
                    var section = $(".section-" + (index+1));
    
                    // Add a click event listener to the button
                    $(this).click(function() {
                    // Hide all sections except the current one
                    $(".section").not(section).hide();
    
                    // Show the current section
                    section.show();
                    });
                });
                });
    
            </script>
        </div>
    </section>

    <section class="section-bg4" style="height: 800px" id="page_5">
        <div class="container">
            <h1 style="display:absolute; top:50px"><b>How Marco Polo view China?</b></h1>
        </div>
    </section>

    <section class="barista-section section-padding section-bg5" style="height: 800px" id="page_6">
        <div class="max-width:100%">
            <h1 style="text-align:center"><b>References</b></h1>
            <h6 style=" max-width:100%">cover Copyright © National Palace Museum. https://theme.npm.edu.tw/exh108/npm_anime/AlongtheRiver/ch/index.html</h3>
        </div>
    </section>


</main>

</body>
</html>
