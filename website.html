<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vegas/2.4.4/vegas.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vegas/2.4.4/vegas.min.css" />
    <link href="css/tooplate-barista.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/vegas.min.css" rel="stylesheet">



</head>

<body>
<main>
    <section id="section_1" class="hero-section d-flex justify-content-center align-items-center">
        <div class="container">
            <div class="align-items-center">
                <div class="text-white">
                    <h1 style="font-size:400%;"><b>A Study on <br><br><mark style="color:aliceblue; background-color: #61a0ff;line-height:2;">Marco Polo's View of China</mark></b></h1>
                </div>
            </div>
        </div>
        <div class="hero-slides" style="filter: brightness(60%);"></div>
        
        <script>
            $(function() {
              $('.hero-slides').vegas({
                  slides: [
                      { src: './images/banner1.jpg' },
                      { src: './images/banner4.jpg' },
                  ],
                  timer: false,
                  animation: 'kenburns',
              });
            });
        </script>

    </section>

    <section class="barista-section section-padding section-bg1" id="section_2">
        <div class="container" style="height: 700px">
            <div class="align-items-center">
                <p class="text-white" style="text-align:center; font-size:300%;">Introduction</p>
            </div>
        </div>
        </section>
    </main>


    <section class="barista-section section-padding section-bg2" style="height:800px" id="section_3">
        <div class="container">
            <p class="text-white" style="text-align:center; font-size:300%;">Map</p>
            <div style=" float:left; width:50%">
                <p class="text-white" style="line-height:2;font-size:100%;"><em>《九域守令圖》</em></p>
                <div id="map" style="height: 600px;"></div>
            </div>
            <div style=" float:right; width:50%">
                <div class="text-white map-select">
                    <p><br><br></p>
                    <div class="my-word">
                        <span class="my-span" style="--i:0.5">W</span>
                        <span class="my-span" style="--i:0.75">h</span>
                        <span class="my-span" style="--i:1">a</span>
                        <span class="my-span"style="--i:1.25">t&nbsp;</span>
                    </div>
                    <div class="my-word">
                        <span class="my-span" style="--i:1.5">W</span>
                        <span  class="my-span"style="--i:1.75">o</span>
                        <span class="my-span"style="--i:2">u</span>
                        <span class="my-span"style="--i:2.25">l</span>
                        <span class="my-span" style="--i:2.5">d&nbsp;</span>
                    </div>
                    <div class="my-word">
                        <span class="my-span" style="--i:2.75">Y </span>
                        <span class="my-span" style="--i:3">o</span>
                        <span  class="my-span"style="--i:3.25">u&nbsp;</span>
                    </div>
                    <div class="my-word">
                        <span class="my-span"style="--i:3.5">l</span>
                        <span class="my-span"style="--i:3.75">i</span>
                        <span class="my-span" style="--i:4">k</span>
                        <span class="my-span" style="--i:4.25">e&nbsp;</span>
                    </div>
                    <div class="my-word">
                        <span class="my-span"style="--i:4.5">t</span>
                        <span class="my-span"style="--i:4.75">o&nbsp;</span>
                    </div>
                    <div class="my-word">
                        <span class="my-span"style="--i:5">l</span>
                        <span class="my-span"style="--i:5.25">e</span>
                        <span class="my-span" style="--i:5.5">a</span>
                        <span class="my-span" style="--i:5.75">r</span>
                        <span class="my-span" style="--i:6">n</span>
                        <span class="my-span" style="--i:6.25">?</span>
                    </div>
                </div>
                <script>
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        const mySpans = entry.target.querySelectorAll('span.my-span');
                        mySpans.forEach(span => {
                            if (entry.isIntersecting) {
                                span.classList.add('jump');
                            } else {
                                span.classList.remove('jump');
                            }
                        });
                    });
                });

                observer.observe(document.querySelector('.map-select'));
                </script>
            </div>
        </div>
            <script>
                var map = L.map('map',{
                maxBounds:[[17, 103.6], [42, 123.4]],
                maxBoundsViscosity: 1,
                minZoom:5,
                }).setView([30.0, 112], 5);
                L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 10,
                minZoom: 3,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                }).addTo(map);

                //add historical map
                var imageUrl = "./images/map05.png",
                //imageBounds = [[10, 80], [60, 130]];
                imageBounds = [[17, 103], [42, 123.4]];
                L.imageOverlay(imageUrl, imageBounds,{opacity:1}).addTo(map);

                //logo template
                var anyIcon = L.Icon.extend({
                    options: {
                        shadowUrl: './images/shadow2.png',
                        iconSize:     [35, 35], // size of the icon
                        shadowSize:   [40, 40]
                    }
                });

                //import logos of different colors
                var greenIcon = new anyIcon({iconUrl: './images/green.png'}),
                    redIcon = new anyIcon({iconUrl: './images/red.png'}),
                    blueIcon = new anyIcon({iconUrl: './images/blue.png'}),
                    yellowIcon = new anyIcon({iconUrl: './images/yellow.png'});

                //info of each markers
                var markers = [
                    {lat: 25, lng: 118, icon:greenIcon, popupContent: "Quanzhou"},
                    {lat: 40, lng: 116, icon:redIcon,  popupContent: "Dadu"},
                    {lat: 32, lng: 119, icon:blueIcon, popupContent: "Yangzhou"}
                ];

                // Loop through the markers array and create a marker for each object
                for (var i = 0; i < markers.length; i++) {
                    var marker = L.marker([markers[i].lat, markers[i].lng],{icon:markers[i].icon, opacity:0.7}).addTo(map);
                    marker.bindPopup(markers[i].popupContent,{
                        closeButton: false,
                        className:'stylePopup'
                    });
                    marker.on('mouseover',function (e) {
                        this.openPopup();
                        this.setOpacity(1)
                    });
                    marker.on('mouseout', function (e) {
                        this.closePopup();
                        this.setOpacity(0.7)
                    });
                    marker.on('click',function(e) {
                        console.log('Marker clicked');
                        $('html, body').stop().animate({
                        scrollTop: $('#m'+(i+1)).offset().top
                    }, {
                        duration:100,
                        easing: 'linear'
                    });
                    })
                };
            </script>
    </section>


    <section id="connect" style="height:250px; position: relative;">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 0%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 20%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 40%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 60%; width: 20%; height: 250px;z-index: 0">
        <img src="./images/pattern.png" style="position: absolute; bottom: 0; left: 80%; width: 20%; height: 250px;z-index: 0">
        <span style="position: absolute; top: 0; left: 0; height: 50px; width: 100%; background-color: #2a5287;z-index: 1;"></span>
    </section>

    <section class="barista-section section-padding section-bg3" style="height: 800px" id="section_2">
        <div class="container">
            <div style="text-align:center">
                <span class="productbtn btn1 btn-click" data-action="section-1" id="m1"></span>
                <span class="productbtn btn2 btn-click" data-action="section-2" id="m2"></span>
                <span class="productbtn btn3 btn-click" data-action="section-3" id="m3"></span>
                <span class="productbtn btn4 btn-click" data-action="section-4" id="m4"></span>
                <span class="productbtn btn5 btn-click" data-action="section-5"></span>
                <span class="productbtn btn6 btn-click" data-action="section-6"></span>
                <span class="productbtn btn7 btn-click" data-action="section-7"></span>
                <span class="productbtn btn8 btn-click" data-action="section-8"></span>
                <span class="productbtn btn9 btn-click" data-action="section-9"></span>
                <span class="productbtn btn10 btn-click" data-action="section-10"></span>
                <span class="productbtn btn11 btn-click" data-action="section-11"></span>
                <span class="productbtn btn12 btn-click" data-action="section-12"></span>
            </div>
            <div style="margin-top:50px;margin-bottom:40px;text-align:center;">
                <div class="section-1" style="display:inline-block;" onclick="scrollToMap()">
                    <div style="float:left; width:50%;">
                        <img class="shape" src="./images/quanzhou.jpg">
                    </div>
                    <div style="float:left; width:50%;">
                        <span class="box" >
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
                
        
                <div class="section-2"  style="display:none" onclick="scrollToMap()">
                    <div style="float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style="float:left; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
        
                <div class="section-3"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
        
                <div class="section-4"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-5"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>>
                    </div>
                </div>

                <div class="section-6"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-7"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-8"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-9"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-10"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-11"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>

                <div class="section-12"  style="display:none" onclick="scrollToMap()">
                    <div style=" float:left; width:50%">
                        <img class="shape" src="./images/dadu.jpg" >
                    </div>
                    <div style=" float:right; width:50%">
                        <span class="box">
                            <p class="text-white" style="line-height:5;">any text</p>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(function(){
                $(".btn-click").click(function(){
                    var target = $(this).data("action");
                $("."+target).show().siblings("div[class*=section-]").hide();
            })
            }); 

            $(function() {
            // Get all the buttons with class "btn"
            var buttons = $(".btn");

            // Iterate over each button
            buttons.each(function(index) {
                // Get the corresponding section with class "section-{index+1}"
                var section = $(".section-" + (index+1));

                // Add a click event listener to the button
                $(this).click(function() {
                // Hide all sections except the current one
                $(".section").not(section).hide();

                // Show the current section
                section.show();
                });
            });
            });

        </script>

        <script>
            function scrollToMap() {
              var mapElement = document.getElementById("map");
              mapElement.scrollIntoView({ behavior: "smooth" });
            }
      </script>
        
    </section>

</main>

</body>
</html>
